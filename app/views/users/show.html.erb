<div class="container py-4">
  <h1 class="mb-3">My Profile</h1>
  <div class="card mb-4">
    <div class="card-body">
      <p><strong>Email:</strong> <%= @user.email %></p>
      <!-- <p><strong>Name:</strong> <%#= @user.name.presence || "—" %></p>
      <p><strong>JLPT Level:</strong> <%#= @user.jlpt_level.presence || "—" %></p> -->
      <%= link_to "Edit account", edit_user_registration_path, class: "btn btn-outline-primary" %>
    </div>
  </div>
  <div class="d-flex align-items-center mb-3">
    <h2 class="h4 m-0">My Conversations</h2>
    <div class="ms-auto">
      <%= link_to "New Conversation", new_user_conversation_path(current_user), class: "btn btn-primary btn-sm" %>
    </div>
  </div>
  <% if @conversations.present? %>
    <ul class="list-group">
      <% @conversations.each do |c| %>
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <strong>
              <%= link_to (c.title.presence || "Conversation ##{c.id}").truncate(60),
                          conversation_path(c) %>
            </strong>
            <div class="text-muted small">
              <%= time_ago_in_words(c.created_at) %> ago
            </div>
          </div>
          <%= link_to "Open", conversation_path(c), class: "btn btn-sm btn-primary" %>
        </li>
      <% end %>
    </ul>
  <% else %>
    <div class="text-center text-muted py-5 border rounded">
      <p class="mb-3">No conversations yet.</p>
      <%= link_to "Start your first conversation",
                  new_user_conversation_path(current_user),
                  class: "btn btn-primary" %>
    </div>
  <% end %>
</div>
